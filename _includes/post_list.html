{% assign timeframe = 604800 %}
{% assign week_ago = "now" | date: "%s" | minus: timeframe %}

<ul>
  {% for post in site.posts %}
  {% if post.category == include.category %}
  <!-- normal posts -->
  <li>
    {{ post.date | date: site.theme_config.date_format }} <a href="{{ post.url | relative_url }}">{{ post.title | downcase }}</a>  <sub><a href="{{ post.url | relative_url }}#disqus_thread">[]</a></sub>
  </li>
  {% elsif include.recent %}
  <!-- recent posts -->
  {% assign post_time = post.date | date: "%s" | plus: 0 %}
  {% if post_time > week_ago %}
  <li>
    <b>[new!]</b>
    {{ post.date | date: site.theme_config.date_format }} <a href="{{ post.url | relative_url }}">{{ post.title | downcase }}</a>  <sub><a href="{{ post.url | relative_url }}#disqus_thread">[]</a></sub>
  </li>
  {% endif %} <!-- end for recent check -->
  {% endif %} <!-- end for category check -->
  {% endfor %}
</ul>
